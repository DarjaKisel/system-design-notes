See https://whimsical.com/whatsapp-VeeahUCsTt52pJkTqpQ6r1 

![](/Users/daryazinevich/code/system-design-notes/by.dzinevich/whatsapp/whatsapp-notes.png)

